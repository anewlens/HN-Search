(window["webpackJsonprts-labs_react-challenge"]=window["webpackJsonprts-labs_react-challenge"]||[]).push([[0],[,,,,,,,,,,,,,,function(e,t,n){e.exports=n(34)},,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),l=n.n(c),s=n(1),o=n(3),u=(n(23),{SET_RESULTS:"SET_RESULTS"}),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.SET_RESULTS:return t.payload;default:return e}},i=n(13),f={ADD_QUERY:"ADD_QUERY"},h=[],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case f.ADD_QUERY:return[].concat(Object(i.a)(e),[t.payload]);default:return e}},p=Object(o.c)({results:m,history:E});var d=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,y=Object(o.e)(p,d(o.a.apply(void 0,[]))),b=(n(24),function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header-title"},"Search Hacker News"))}),g=n(6),N=function(e){return{type:u.SET_RESULTS,payload:e}},_=function(e,t,n){var a="date"===t?"_by_date":"",r="any"===n?"":"&tags=".concat(n),c="http://hn.algolia.com/api/v1/search".concat(a,"?query=").concat(e).concat(r);return fetch(c).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))},v=(n(25),function(e){return r.a.createElement("input",Object.assign({type:"text",className:"textInput"},e))}),S=(n(26),function(e){return r.a.createElement("button",Object.assign({},e,{className:"customButton"}),e.children)}),I=(n(27),function(e){var t=e.name,n=e.group,a=e.checked,c=e.onChange;return r.a.createElement("label",{htmlFor:t,className:"radioInput-label"},r.a.createElement("input",{type:"radio",id:t,value:t,name:n,checked:a,onChange:c,className:"radioInput"}),t)}),O=(n(28),Object(s.b)(null,(function(e){return{setResults:function(t){return e(N(t))},addQueryToHistory:function(t){return e(function(e){return{type:f.ADD_QUERY,payload:e}}(t))}}}))((function(e){var t=e.setResults,n=e.addQueryToHistory,c=Object(a.useState)(""),l=Object(g.a)(c,2),o=l[0],u=l[1],m=Object(a.useState)("relevance"),i=Object(g.a)(m,2),f=i[0],h=i[1],E=Object(a.useState)("any"),p=Object(g.a)(E,2),d=p[0],y=p[1],b=Object(s.d)((function(e){return e.history}));return r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o&&_(o,f,d).then((function(e){t(e),b.includes(e.query)||n(e.query),u("")})).catch((function(e){return console.log(e)}))},className:"search"},r.a.createElement("span",{className:"search-bar"},r.a.createElement(v,{placeholder:"article, author, comment...",value:o,onChange:function(e){return u(e.target.value)}}),r.a.createElement(S,{type:"submit"},"Search")),r.a.createElement("span",{className:"search-radios"},"Sort By:",["relevance","date"].map((function(e){return r.a.createElement(I,{name:e,group:"sort",checked:f===e,onChange:function(e){return h(e.target.value)}})}))),r.a.createElement("span",{className:"search-radios"},"Filter:",["any","story","comment","poll"].map((function(e){return r.a.createElement(I,{name:e,group:"filter",checked:d===e,onChange:function(e){return y(e.target.value)}})}))))}))),j=(n(29),function(e){var t=e.result,n=t.title,a=t.author,c=t.created_at,l=t.points,s=t.num_comments,o=t.story_url,u=t.url,m=t.objectID;return r.a.createElement("div",{className:"resultItem"},r.a.createElement("a",{href:u||o,target:"_blank",rel:"noopener noreferrer",className:"resultItem-storyLink"},r.a.createElement("h3",{className:"resultItem-title"},n),r.a.createElement("p",{className:"resultItem-byline"},"Posted by ",a," on ",new Date(c).toDateString())),r.a.createElement("span",{className:"resultItem-engagement"},r.a.createElement("p",{className:"resultItem-points"},l," points"),r.a.createElement("a",{href:"https://news.ycombinator.com/item?id=".concat(m),target:"_blank",rel:"noopener noreferrer",className:"resultItem-hnLink"},s," comments")))}),k=function(e){var t=e.result,n=t.story_title,a=t.story_url,c=t.url,l=t.author,s=t.created_at,o=t.points,u=t.comment_text,m=t.objectID,i=u.substring(0,240).concat("...");return r.a.createElement("div",{className:"resultItem"},r.a.createElement("a",{href:c||a,target:"_blank",rel:"noopener noreferrer",className:"resultItem-storyLink"},r.a.createElement("h3",{className:"resultItem-heading"},l," commented on ",r.a.createElement("em",null,n),":")),r.a.createElement("a",{href:"https://news.ycombinator.com/item?id=".concat(m),target:"_blank",rel:"noopener noreferrer",className:"resultItem-hnLink",dangerouslySetInnerHTML:{__html:i}}),r.a.createElement("footer",{className:"resultItem-footer"},r.a.createElement("p",{className:"resultItem-points"},o||"0"," points"),r.a.createElement("p",{className:"resultItem-date"},new Date(s).toDateString())))},D=(n(30),function(e){var t=e.result;return t._tags.includes("comment")?r.a.createElement(k,{result:t}):r.a.createElement(j,{result:t})}),w=function(){var e=Object(s.d)((function(e){return e.results}));return r.a.createElement("section",{className:"results"},r.a.createElement("h2",{className:"results-title"},e&&'Results for "'.concat(e.query,'"')),r.a.createElement("div",{className:"results-list"},0===e.hits.length?r.a.createElement("p",{className:"results-message"},'No results for "',e.query,'"'):e.hits.map((function(e){return r.a.createElement(D,{key:e.objectID,result:e})}))))},T=(n(31),function(){var e=Object(s.d)((function(e){return e.history})),t=Object(s.c)();return r.a.createElement("span",{className:"history"},e.map((function(e,n){return r.a.createElement("p",{key:n,onClick:function(){return _(e).then((function(e){return t(N(e))})).catch((function(e){return console.log(e)}))},className:"history-term"},e)})))});n(32);var R=function(){var e=Object(s.d)((function(e){return e.results})),t=Object(s.d)((function(e){return e.history}));return r.a.createElement("div",{className:"App"},r.a.createElement(b,null),r.a.createElement(O,null),!!t.length&&r.a.createElement(T,null),e&&r.a.createElement(w,null))};n(33);l.a.render(r.a.createElement(s.a,{store:y},r.a.createElement(R,null)),document.getElementById("root"))}],[[14,1,2]]]);
//# sourceMappingURL=main.b1ed6b73.chunk.js.map